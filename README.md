<!DOCTYPE html>
  <body>
    <h1 align="center">&#128270 Поисковый движок &#128270</h1>
    <p>
     &#9654 Поисковый движок представляет из себя Spring-приложение, работающее с
локально установленной базой данных MySQL, имеющее простой
веб-интерфейс и API, через который им можно управлять и получать
результаты поисковой выдачи по запросу.
    </p>
    <h2>&#9881 Спецификация API &#9881</h2>
    <ul>
      <li><b>&#9889 GET /api/startIndexing</b> - Запуск полной индексации;</li>
      <p>
        Метод запускает полную индексацию всех сайтов или полную переиндексацию, если они уже проиндексированы.
Если в настоящий момент индексация или переиндексация уже запущена, метод возвращает соответствующее сообщение об ошибке.
      </p>
      <p>
        <b>Параметры:</b><br>
        <i>Метод без параметров</i><br>
        <b>Формат в случае успеха:</b><br>
        <code>{'result': true}</code><br>
        <b>Формат в случае ошибки:</b><br>
        <code>{'result': false, 'error': "Индексация уже запущена"}</code>
      </p>
      <li><b>&#9889 GET /api/stopIndexing</b> - Остановка текущей индексации;</li>
      <p>
        Метод останавливает текущий процесс индексации (переиндексации). Если в настоящий момент индексация или переиндексация не происходит, метод возвращает соответствующее сообщение об ошибке.
      </p>
      <p>
        <b>Параметры:</b><br>
        <i>Метод без параметров</i><br>
        <b>Формат в случае успеха:</b><br>
        <code>{'result': true}</code><br>
        <b>Формат в случае ошибки:</b><br>
        <code>{'result': false, 'error': "Индексация не запущена"}</code>
      </p>
      <li><b>&#9889 POST /api/indexPage</b> - Добавление или обновление отдельной страницы;</li>
      <p>
        Метод добавляет в индекс или обновляет отдельную страницу, адрес которой передан в параметре.
      </p>
      <p>
        <b>Параметры:</b><br>
        <i>url — адрес страницы, которую нужно переиндексировать.</i><br>
        <b>Формат в случае успеха:</b><br>
        <code>{'result': true}</code><br>
        <b>Формат в случае ошибки:</b><br>
        <code>{'result': false, 'error': "Данная страница находится за пределами сайтов, указанных в конфигурационном файле"}</code>
      </p>
      <li>&#9889 GET /api/statistics - Статистика;</li>
      <p>
        Метод возвращает статистику и другую служебную информацию о состоянии поисковых индексов и самого движка.
      </p>
       <p>
        <b>Параметры:</b><br>
        <i>Метод без параметров</i><br>
        <b>Формат в случае успеха:</b><br>
        <code>{
	'result': true,
	'statistics': {
		"total": {
			"sites": 10,
			"pages": 436423,
			"lemmas": 5127891,
			"indexing": true
},
"detailed": [
	{
		"url": "http://www.site.com",
		"name": "Имя сайта",
		"status": "INDEXED",
		"statusTime": 1600160357,
		"error": "Ошибка индексации: главная 
страница сайта недоступна",
		"pages": 5764,
		"lemmas": 321115
},
...
]
}
</code><br>
      </p>
      <li>&#9889 GET /api/search - Получение данных по поисковому запросу;</li>
      <p>
        Метод осуществляет поиск страниц по переданному поисковому запросу.
      </p>
       <p>
        <b>Параметры:</b><br>
        <i>url — адрес страницы, которую нужно переиндексировать.</i><br>
        <i>site — сайт, по которому осуществлять поиск (если не задан, поиск должен происходить по всем проиндексированным сайтам); задаётся в формате адреса, например: http://www.site.com (без слэша в конце);</i><br>
        <i>offset — сдвиг от 0 для постраничного вывода (параметр необязательный; если не установлен, то значение по умолчанию равно нулю);</i><br>
        <i>limit — количество результатов, которое необходимо вывести (параметр необязательный; если не установлен, то значение по умолчанию равно 20).</i><br>
        <b>Формат в случае успеха:</b><br>
        <code>{
	'result': true,
	'count': 574,
	'data': [
		{
			"site": "http://www.site.com",
			"siteName": "Имя сайта",
"uri": "/path/to/page/6784",
			"title": "Заголовок страницы,
которую выводим",
			"snippet": "Фрагмент текста,
 в котором найдены 
 совпадения, <b>выделенные 
 жирным</b>, в формате HTML",
			"relevance": 0.93362
},
...
]
}
        </code><br>
        <b>Формат в случае ошибки:</b><br>
        <code>{'result': false, 'error': "Задан пустой поисковый запрос"}</code>
      </p>
    </ul>
  </body>
</html>
